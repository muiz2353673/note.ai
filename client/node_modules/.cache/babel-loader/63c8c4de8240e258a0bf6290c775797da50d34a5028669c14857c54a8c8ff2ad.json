{"ast":null,"code":"var _jsxFileName = \"/Users/muiz/Downloads/note.ai/client/src/components/SubscriptionManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { CreditCardIcon, CalendarIcon, CheckIcon } from \"@heroicons/react/24/outline\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SubscriptionManager = ({\n  user,\n  onUpdate\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [subscription, setSubscription] = useState(user === null || user === void 0 ? void 0 : user.subscription);\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\"\n    });\n  };\n  const getUsagePercentage = (current, limit) => {\n    if (limit === -1) return 0; // Unlimited\n    return Math.round(current / limit * 100);\n  };\n  const cancelSubscription = async () => {\n    if (!window.confirm(\"Are you sure you want to cancel your subscription?\")) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(\"/api/subscriptions/cancel\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to cancel subscription\");\n      }\n      toast.success(\"Subscription cancelled successfully\");\n      onUpdate();\n    } catch (error) {\n      toast.error(error.message || \"Failed to cancel subscription\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getPlanFeatures = plan => {\n    const features = {\n      free: [\"5 AI summaries per month\", \"3 flashcard sets per month\", \"2 assignment help sessions\", \"10 citations per month\"],\n      student: [\"100 AI summaries per month\", \"50 flashcard sets per month\", \"25 assignment help sessions\", \"200 citations per month\", \"Priority support\", \"Export to PDF/Word\"],\n      university: [\"Unlimited AI summaries\", \"Unlimited flashcard sets\", \"Unlimited assignment help\", \"Unlimited citations\", \"Custom branding\", \"Analytics dashboard\", \"LMS integration\", \"Dedicated support\"]\n    };\n    return features[plan] || features.free;\n  };\n  if (!subscription) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"No Active Subscription\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: \"You're currently on the free plan.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/pricing\",\n          className: \"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\",\n          children: \"View Plans\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Current Plan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `px-3 py-1 rounded-full text-sm font-medium ${subscription.status === \"active\" ? \"bg-success-100 text-success-800\" : \"bg-warning-100 text-warning-800\"}`,\n          children: subscription.status.charAt(0).toUpperCase() + subscription.status.slice(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-900 mb-2\",\n            children: [subscription.plan.charAt(0).toUpperCase() + subscription.plan.slice(1), \" \", \"Plan\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Next billing: \", formatDate(subscription.currentPeriodEnd)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), subscription.stripeCustomerId && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CreditCardIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Payment method saved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right\",\n          children: subscription.status === \"active\" && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: cancelSubscription,\n            disabled: loading,\n            className: \"px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 transition-colors\",\n            children: loading ? \"Cancelling...\" : \"Cancel Subscription\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"Usage This Month\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: Object.entries(subscription.features).map(([feature, limit]) => {\n          const usage = user.usage[`total${feature.charAt(0).toUpperCase() + feature.slice(1)}`] || 0;\n          const percentage = getUsagePercentage(usage, limit);\n          const isUnlimited = limit === -1;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-700\",\n                children: feature.replace(/([A-Z])/g, \" $1\").replace(/^./, str => str.toUpperCase())\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500\",\n                children: [usage, \" / \", isUnlimited ? \"∞\" : limit]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), !isUnlimited && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-200 rounded-full h-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-primary-600 h-2 rounded-full transition-all duration-300\",\n                style: {\n                  width: `${Math.min(percentage, 100)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this)]\n          }, feature, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"Plan Features\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-2\",\n        children: getPlanFeatures(subscription.plan).map((feature, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n            className: \"w-5 h-5 text-success-500 mr-3 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-700\",\n            children: feature\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n_s(SubscriptionManager, \"cSuYLwyrgD0JZVE+JZwooVce3OY=\");\n_c = SubscriptionManager;\nexport default SubscriptionManager;\nvar _c;\n$RefreshReg$(_c, \"SubscriptionManager\");","map":{"version":3,"names":["React","useState","toast","CreditCardIcon","CalendarIcon","CheckIcon","jsxDEV","_jsxDEV","SubscriptionManager","user","onUpdate","_s","loading","setLoading","subscription","setSubscription","formatDate","dateString","Date","toLocaleDateString","year","month","day","getUsagePercentage","current","limit","Math","round","cancelSubscription","window","confirm","response","fetch","method","headers","Authorization","localStorage","getItem","ok","Error","success","error","message","getPlanFeatures","plan","features","free","student","university","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","status","charAt","toUpperCase","slice","currentPeriodEnd","stripeCustomerId","onClick","disabled","Object","entries","map","feature","usage","percentage","isUnlimited","replace","str","style","width","min","index","_c","$RefreshReg$"],"sources":["/Users/muiz/Downloads/note.ai/client/src/components/SubscriptionManager.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport {\n  CreditCardIcon,\n  CalendarIcon,\n  CheckIcon,\n} from \"@heroicons/react/24/outline\";\n\ninterface SubscriptionManagerProps {\n  user: any;\n  onUpdate: (data?: any) => void;\n}\n\nconst SubscriptionManager: React.FC<SubscriptionManagerProps> = ({\n  user,\n  onUpdate,\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [subscription, setSubscription] = useState(user?.subscription);\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  };\n\n  const getUsagePercentage = (current: number, limit: number) => {\n    if (limit === -1) return 0; // Unlimited\n    return Math.round((current / limit) * 100);\n  };\n\n  const cancelSubscription = async () => {\n    if (!window.confirm(\"Are you sure you want to cancel your subscription?\")) {\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await fetch(\"/api/subscriptions/cancel\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to cancel subscription\");\n      }\n\n      toast.success(\"Subscription cancelled successfully\");\n      onUpdate();\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to cancel subscription\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getPlanFeatures = (plan: string) => {\n    const features = {\n      free: [\n        \"5 AI summaries per month\",\n        \"3 flashcard sets per month\",\n        \"2 assignment help sessions\",\n        \"10 citations per month\",\n      ],\n      student: [\n        \"100 AI summaries per month\",\n        \"50 flashcard sets per month\",\n        \"25 assignment help sessions\",\n        \"200 citations per month\",\n        \"Priority support\",\n        \"Export to PDF/Word\",\n      ],\n      university: [\n        \"Unlimited AI summaries\",\n        \"Unlimited flashcard sets\",\n        \"Unlimited assignment help\",\n        \"Unlimited citations\",\n        \"Custom branding\",\n        \"Analytics dashboard\",\n        \"LMS integration\",\n        \"Dedicated support\",\n      ],\n    };\n    return features[plan as keyof typeof features] || features.free;\n  };\n\n  if (!subscription) {\n    return (\n      <div className=\"card\">\n        <div className=\"text-center py-8\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            No Active Subscription\n          </h3>\n          <p className=\"text-gray-600 mb-4\">\n            You're currently on the free plan.\n          </p>\n          <a\n            href=\"/pricing\"\n            className=\"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\n          >\n            View Plans\n          </a>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Current Plan */}\n      <div className=\"card\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Current Plan</h3>\n          <span\n            className={`px-3 py-1 rounded-full text-sm font-medium ${\n              subscription.status === \"active\"\n                ? \"bg-success-100 text-success-800\"\n                : \"bg-warning-100 text-warning-800\"\n            }`}\n          >\n            {subscription.status.charAt(0).toUpperCase() +\n              subscription.status.slice(1)}\n          </span>\n        </div>\n\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">\n              {subscription.plan.charAt(0).toUpperCase() +\n                subscription.plan.slice(1)}{\" \"}\n              Plan\n            </h4>\n            <div className=\"space-y-2 text-sm text-gray-600\">\n              <div className=\"flex items-center\">\n                <CalendarIcon className=\"w-4 h-4 mr-2\" />\n                <span>\n                  Next billing: {formatDate(subscription.currentPeriodEnd)}\n                </span>\n              </div>\n              {subscription.stripeCustomerId && (\n                <div className=\"flex items-center\">\n                  <CreditCardIcon className=\"w-4 h-4 mr-2\" />\n                  <span>Payment method saved</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"text-right\">\n            {subscription.status === \"active\" && (\n              <button\n                onClick={cancelSubscription}\n                disabled={loading}\n                className=\"px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 transition-colors\"\n              >\n                {loading ? \"Cancelling...\" : \"Cancel Subscription\"}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Usage */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n          Usage This Month\n        </h3>\n        <div className=\"space-y-4\">\n          {Object.entries(subscription.features).map(([feature, limit]) => {\n            const usage =\n              user.usage[\n                `total${feature.charAt(0).toUpperCase() + feature.slice(1)}`\n              ] || 0;\n            const percentage = getUsagePercentage(usage, limit as number);\n            const isUnlimited = limit === -1;\n\n            return (\n              <div key={feature} className=\"space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-700\">\n                    {feature\n                      .replace(/([A-Z])/g, \" $1\")\n                      .replace(/^./, (str) => str.toUpperCase())}\n                  </span>\n                  <span className=\"text-gray-500\">\n                    {usage} / {isUnlimited ? \"∞\" : limit}\n                  </span>\n                </div>\n                {!isUnlimited && (\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div\n                      className=\"bg-primary-600 h-2 rounded-full transition-all duration-300\"\n                      style={{ width: `${Math.min(percentage, 100)}%` }}\n                    />\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Features */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n          Plan Features\n        </h3>\n        <ul className=\"space-y-2\">\n          {getPlanFeatures(subscription.plan).map((feature, index) => (\n            <li key={index} className=\"flex items-center\">\n              <CheckIcon className=\"w-5 h-5 text-success-500 mr-3 flex-shrink-0\" />\n              <span className=\"text-gray-700\">{feature}</span>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default SubscriptionManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}