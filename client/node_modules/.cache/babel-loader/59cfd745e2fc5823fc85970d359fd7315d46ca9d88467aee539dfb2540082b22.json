{"ast":null,"code":"var _jsxFileName = \"/Users/muiz/Downloads/note.ai/client/src/components/SubscriptionManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { CreditCardIcon, CalendarIcon, CheckIcon } from \"@heroicons/react/24/outline\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SubscriptionManager = ({\n  user,\n  onUpdate\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\"\n    });\n  };\n  const getUsagePercentage = (current, limit) => {\n    if (limit === -1) return 0; // Unlimited\n    return Math.round(current / limit * 100);\n  };\n  const cancelSubscription = async () => {\n    if (!window.confirm(\"Are you sure you want to cancel your subscription?\")) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(\"/api/subscriptions/cancel\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to cancel subscription\");\n      }\n      toast.success(\"Subscription cancelled successfully\");\n      onUpdate();\n    } catch (error) {\n      toast.error(error.message || \"Failed to cancel subscription\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getPlanFeatures = plan => {\n    const features = {\n      free: [\"5 AI summaries per month\", \"3 flashcard sets per month\", \"2 assignment help sessions\", \"10 citations per month\"],\n      student: [\"100 AI summaries per month\", \"50 flashcard sets per month\", \"25 assignment help sessions\", \"200 citations per month\", \"Priority support\", \"Export to PDF/Word\"],\n      university: [\"Unlimited AI summaries\", \"Unlimited flashcard sets\", \"Unlimited assignment help\", \"Unlimited citations\", \"Custom branding\", \"Analytics dashboard\", \"LMS integration\", \"Dedicated support\"]\n    };\n    return features[plan] || features.free;\n  };\n  if (!(user !== null && user !== void 0 && user.subscription)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"No Active Subscription\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: \"You're currently on the free plan.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/pricing\",\n          className: \"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\",\n          children: \"View Plans\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Current Plan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `px-3 py-1 rounded-full text-sm font-medium ${user.subscription.status === \"active\" ? \"bg-success-100 text-success-800\" : \"bg-warning-100 text-warning-800\"}`,\n          children: user.subscription.status.charAt(0).toUpperCase() + user.subscription.status.slice(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-900 mb-2\",\n            children: [user.subscription.plan.charAt(0).toUpperCase() + user.subscription.plan.slice(1), \" \", \"Plan\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Next billing: \", formatDate(user.subscription.currentPeriodEnd)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), user.subscription.stripeCustomerId && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CreditCardIcon, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Payment method saved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right\",\n          children: user.subscription.status === \"active\" && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: cancelSubscription,\n            disabled: loading,\n            className: \"px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 transition-colors\",\n            children: loading ? \"Cancelling...\" : \"Cancel Subscription\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"Usage This Month\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: Object.entries(subscription.features).map(([feature, limit]) => {\n          const usage = user.usage[`total${feature.charAt(0).toUpperCase() + feature.slice(1)}`] || 0;\n          const percentage = getUsagePercentage(usage, limit);\n          const isUnlimited = limit === -1;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-700\",\n                children: feature.replace(/([A-Z])/g, \" $1\").replace(/^./, str => str.toUpperCase())\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500\",\n                children: [usage, \" / \", isUnlimited ? \"∞\" : limit]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), !isUnlimited && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-200 rounded-full h-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-primary-600 h-2 rounded-full transition-all duration-300\",\n                style: {\n                  width: `${Math.min(percentage, 100)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)]\n          }, feature, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"Plan Features\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-2\",\n        children: getPlanFeatures(subscription.plan).map((feature, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n            className: \"w-5 h-5 text-success-500 mr-3 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-700\",\n            children: feature\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s(SubscriptionManager, \"/Rjh5rPqCCqf0XYnTUk9ZNavw3Q=\");\n_c = SubscriptionManager;\nexport default SubscriptionManager;\nvar _c;\n$RefreshReg$(_c, \"SubscriptionManager\");","map":{"version":3,"names":["React","useState","toast","CreditCardIcon","CalendarIcon","CheckIcon","jsxDEV","_jsxDEV","SubscriptionManager","user","onUpdate","_s","loading","setLoading","formatDate","dateString","Date","toLocaleDateString","year","month","day","getUsagePercentage","current","limit","Math","round","cancelSubscription","window","confirm","response","fetch","method","headers","Authorization","localStorage","getItem","ok","Error","success","error","message","getPlanFeatures","plan","features","free","student","university","subscription","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","status","charAt","toUpperCase","slice","currentPeriodEnd","stripeCustomerId","onClick","disabled","Object","entries","map","feature","usage","percentage","isUnlimited","replace","str","style","width","min","index","_c","$RefreshReg$"],"sources":["/Users/muiz/Downloads/note.ai/client/src/components/SubscriptionManager.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport {\n  CreditCardIcon,\n  CalendarIcon,\n  CheckIcon,\n} from \"@heroicons/react/24/outline\";\n\ninterface SubscriptionManagerProps {\n  user: any;\n  onUpdate: (data?: any) => void;\n}\n\nconst SubscriptionManager: React.FC<SubscriptionManagerProps> = ({\n  user,\n  onUpdate,\n}) => {\n  const [loading, setLoading] = useState(false);\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  };\n\n  const getUsagePercentage = (current: number, limit: number) => {\n    if (limit === -1) return 0; // Unlimited\n    return Math.round((current / limit) * 100);\n  };\n\n  const cancelSubscription = async () => {\n    if (!window.confirm(\"Are you sure you want to cancel your subscription?\")) {\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await fetch(\"/api/subscriptions/cancel\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to cancel subscription\");\n      }\n\n      toast.success(\"Subscription cancelled successfully\");\n      onUpdate();\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to cancel subscription\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getPlanFeatures = (plan: string) => {\n    const features = {\n      free: [\n        \"5 AI summaries per month\",\n        \"3 flashcard sets per month\",\n        \"2 assignment help sessions\",\n        \"10 citations per month\",\n      ],\n      student: [\n        \"100 AI summaries per month\",\n        \"50 flashcard sets per month\",\n        \"25 assignment help sessions\",\n        \"200 citations per month\",\n        \"Priority support\",\n        \"Export to PDF/Word\",\n      ],\n      university: [\n        \"Unlimited AI summaries\",\n        \"Unlimited flashcard sets\",\n        \"Unlimited assignment help\",\n        \"Unlimited citations\",\n        \"Custom branding\",\n        \"Analytics dashboard\",\n        \"LMS integration\",\n        \"Dedicated support\",\n      ],\n    };\n    return features[plan as keyof typeof features] || features.free;\n  };\n\n  if (!user?.subscription) {\n    return (\n      <div className=\"card\">\n        <div className=\"text-center py-8\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            No Active Subscription\n          </h3>\n          <p className=\"text-gray-600 mb-4\">\n            You're currently on the free plan.\n          </p>\n          <a\n            href=\"/pricing\"\n            className=\"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\n          >\n            View Plans\n          </a>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Current Plan */}\n      <div className=\"card\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Current Plan</h3>\n          <span\n            className={`px-3 py-1 rounded-full text-sm font-medium ${\n              user.subscription.status === \"active\"\n                ? \"bg-success-100 text-success-800\"\n                : \"bg-warning-100 text-warning-800\"\n            }`}\n          >\n            {user.subscription.status.charAt(0).toUpperCase() +\n              user.subscription.status.slice(1)}\n          </span>\n        </div>\n\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">\n              {user.subscription.plan.charAt(0).toUpperCase() +\n                user.subscription.plan.slice(1)}{\" \"}\n              Plan\n            </h4>\n            <div className=\"space-y-2 text-sm text-gray-600\">\n              <div className=\"flex items-center\">\n                <CalendarIcon className=\"w-4 h-4 mr-2\" />\n                <span>\n                  Next billing: {formatDate(user.subscription.currentPeriodEnd)}\n                </span>\n              </div>\n              {user.subscription.stripeCustomerId && (\n                <div className=\"flex items-center\">\n                  <CreditCardIcon className=\"w-4 h-4 mr-2\" />\n                  <span>Payment method saved</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"text-right\">\n            {user.subscription.status === \"active\" && (\n              <button\n                onClick={cancelSubscription}\n                disabled={loading}\n                className=\"px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 transition-colors\"\n              >\n                {loading ? \"Cancelling...\" : \"Cancel Subscription\"}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Usage */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n          Usage This Month\n        </h3>\n        <div className=\"space-y-4\">\n          {Object.entries(subscription.features).map(([feature, limit]) => {\n            const usage =\n              user.usage[\n                `total${feature.charAt(0).toUpperCase() + feature.slice(1)}`\n              ] || 0;\n            const percentage = getUsagePercentage(usage, limit as number);\n            const isUnlimited = limit === -1;\n\n            return (\n              <div key={feature} className=\"space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-700\">\n                    {feature\n                      .replace(/([A-Z])/g, \" $1\")\n                      .replace(/^./, (str) => str.toUpperCase())}\n                  </span>\n                  <span className=\"text-gray-500\">\n                    {usage} / {isUnlimited ? \"∞\" : limit}\n                  </span>\n                </div>\n                {!isUnlimited && (\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div\n                      className=\"bg-primary-600 h-2 rounded-full transition-all duration-300\"\n                      style={{ width: `${Math.min(percentage, 100)}%` }}\n                    />\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Features */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n          Plan Features\n        </h3>\n        <ul className=\"space-y-2\">\n          {getPlanFeatures(subscription.plan).map((feature, index) => (\n            <li key={index} className=\"flex items-center\">\n              <CheckIcon className=\"w-5 h-5 text-success-500 mr-3 flex-shrink-0\" />\n              <span className=\"text-gray-700\">{feature}</span>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default SubscriptionManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}