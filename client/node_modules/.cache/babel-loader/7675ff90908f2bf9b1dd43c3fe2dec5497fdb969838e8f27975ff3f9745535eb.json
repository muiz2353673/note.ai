{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{useSubscription}from\"../contexts/SubscriptionContext\";import axios from\"axios\";import{DocumentTextIcon,LightBulbIcon,BookOpenIcon,AcademicCapIcon,PlusIcon,ArrowUpIcon,ArrowDownIcon,ClockIcon}from\"@heroicons/react/24/outline\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{var _user$usage,_user$usage2,_user$usage3,_user$usage4,_subscription$feature,_subscription$feature2,_subscription$feature3,_subscription$feature4,_subscription$feature5,_subscription$feature6,_subscription$feature7,_subscription$feature8,_subscription$feature9,_subscription$feature0,_subscription$feature1,_subscription$feature10,_subscription$feature11,_subscription$feature12,_subscription$feature13,_subscription$feature14,_subscription$feature15,_subscription$feature16,_subscription$feature17,_subscription$feature18;const{user}=useAuth();const{subscription,usage,loading}=useSubscription();// Debug logging\nconsole.log(\"Dashboard - User:\",user);console.log(\"Dashboard - Subscription:\",subscription);console.log(\"Dashboard - Usage:\",usage);const[notesLoading,setNotesLoading]=useState(true);const[recentNotes,setRecentNotes]=useState([]);const[notesError,setNotesError]=useState(false);useEffect(()=>{const fetchRecentNotes=async()=>{try{setNotesLoading(true);setNotesError(false);console.log(\"Fetching recent notes...\");const response=await axios.get(\"/api/notes?limit=5\");console.log(\"Recent notes response:\",response.data);setRecentNotes(response.data.notes||[]);}catch(error){console.error(\"Failed to fetch recent notes:\",error);setRecentNotes([]);setNotesError(true);}finally{setNotesLoading(false);}};// Only fetch notes if user is authenticated\nif(user){fetchRecentNotes();}},[user]);const stats=[{name:\"Total Notes\",value:(usage===null||usage===void 0?void 0:usage.totalNotes)||(user===null||user===void 0?void 0:(_user$usage=user.usage)===null||_user$usage===void 0?void 0:_user$usage.totalNotes)||0,icon:DocumentTextIcon,color:\"text-blue-600\",bgColor:\"bg-blue-100\",change:\"+12%\",changeType:\"increase\"},{name:\"AI Summaries\",value:(usage===null||usage===void 0?void 0:usage.totalSummaries)||(user===null||user===void 0?void 0:(_user$usage2=user.usage)===null||_user$usage2===void 0?void 0:_user$usage2.totalSummaries)||0,icon:LightBulbIcon,color:\"text-green-600\",bgColor:\"bg-green-100\",change:\"+8%\",changeType:\"increase\"},{name:\"Flashcards\",value:(usage===null||usage===void 0?void 0:usage.totalFlashcards)||(user===null||user===void 0?void 0:(_user$usage3=user.usage)===null||_user$usage3===void 0?void 0:_user$usage3.totalFlashcards)||0,icon:BookOpenIcon,color:\"text-purple-600\",bgColor:\"bg-purple-100\",change:\"+15%\",changeType:\"increase\"},{name:\"Assignments\",value:(usage===null||usage===void 0?void 0:usage.totalAssignments)||(user===null||user===void 0?void 0:(_user$usage4=user.usage)===null||_user$usage4===void 0?void 0:_user$usage4.totalAssignments)||0,icon:AcademicCapIcon,color:\"text-orange-600\",bgColor:\"bg-orange-100\",change:\"+5%\",changeType:\"increase\"}];// Debug logging for subscription data\nconsole.log(\"Dashboard - User usage:\",user===null||user===void 0?void 0:user.usage);console.log(\"Dashboard - Context usage:\",usage);console.log(\"Dashboard - Context subscription:\",subscription);const quickActions=[{name:\"Create Note\",description:\"Start a new note\",icon:PlusIcon,href:\"/notes/new\",color:\"text-blue-600\",bgColor:\"bg-blue-100\"},{name:\"AI Summary\",description:\"Summarize your notes\",icon:LightBulbIcon,href:\"/ai-features\",color:\"text-green-600\",bgColor:\"bg-green-100\"},{name:\"Study Mode\",description:\"Review flashcards\",icon:BookOpenIcon,href:\"/flashcards\",color:\"text-purple-600\",bgColor:\"bg-purple-100\"},{name:\"Citations\",description:\"Generate citations\",icon:AcademicCapIcon,href:\"/citations\",color:\"text-orange-600\",bgColor:\"bg-orange-100\"}];// Show loading state if subscription data is still loading\nif(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold mb-2\",children:[\"Welcome back, \",user===null||user===void 0?void 0:user.firstName,\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100\",children:\"Loading your dashboard...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold mb-2\",children:[\"Welcome back, \",user===null||user===void 0?void 0:user.firstName,\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100\",children:\"Ready to continue your academic journey? Here's what's happening with your studies.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:stats.map(stat=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:stat.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stat.value}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-1\",children:[stat.changeType===\"increase\"?/*#__PURE__*/_jsx(ArrowUpIcon,{className:\"w-4 h-4 text-green-500\"}):/*#__PURE__*/_jsx(ArrowDownIcon,{className:\"w-4 h-4 text-red-500\"}),/*#__PURE__*/_jsx(\"span\",{className:`text-sm ml-1 ${stat.changeType===\"increase\"?\"text-green-600\":\"text-red-600\"}`,children:stat.change})]})]}),/*#__PURE__*/_jsx(\"div\",{className:`p-3 rounded-lg ${stat.bgColor}`,children:/*#__PURE__*/_jsx(stat.icon,{className:`w-6 h-6 ${stat.color}`})})]})},stat.name))}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:quickActions.map(action=>/*#__PURE__*/_jsxs(Link,{to:action.href,className:\"p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:shadow-md transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-10 h-10 ${action.bgColor} rounded-lg flex items-center justify-center mb-3`,children:/*#__PURE__*/_jsx(action.icon,{className:`w-5 h-5 ${action.color}`})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-1\",children:action.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:action.description})]},action.name))})]}),(subscription===null||subscription===void 0?void 0:subscription.plan)===\"free\"&&/*#__PURE__*/_jsx(\"div\",{className:\"card bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4\",children:/*#__PURE__*/_jsx(LightBulbIcon,{className:\"w-6 h-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-blue-900 mb-1\",children:\"Unlock Premium Features\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:\"Get unlimited AI summaries, flashcards, and more with our Student plan\"})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/pricing\",className:\"btn-primary whitespace-nowrap\",children:\"Upgrade Now\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Usage This Month\"}),subscription&&/*#__PURE__*/_jsx(Link,{to:\"/pricing\",className:\"btn-primary text-sm px-4 py-2\",children:subscription.plan===\"free\"?\"Upgrade Plan\":\"Manage Subscription\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:usage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"AI Summaries\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-900\",children:[usage.totalSummaries||0,\" /\",\" \",(subscription===null||subscription===void 0?void 0:(_subscription$feature=subscription.features)===null||_subscription$feature===void 0?void 0:_subscription$feature.aiSummaries)===-1?\"âˆž\":(subscription===null||subscription===void 0?void 0:(_subscription$feature2=subscription.features)===null||_subscription$feature2===void 0?void 0:_subscription$feature2.aiSummaries)||5]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-2 rounded-full ${(usage.totalSummaries||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature3=subscription.features)===null||_subscription$feature3===void 0?void 0:_subscription$feature3.aiSummaries)||5)>0.8?\"bg-red-500\":(usage.totalSummaries||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature4=subscription.features)===null||_subscription$feature4===void 0?void 0:_subscription$feature4.aiSummaries)||5)>0.6?\"bg-yellow-500\":\"bg-green-500\"}`,style:{width:`${Math.min((usage.totalSummaries||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature5=subscription.features)===null||_subscription$feature5===void 0?void 0:_subscription$feature5.aiSummaries)||5)*100,100)}%`}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Flashcards\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-900\",children:[usage.totalFlashcards||0,\" /\",\" \",(subscription===null||subscription===void 0?void 0:(_subscription$feature6=subscription.features)===null||_subscription$feature6===void 0?void 0:_subscription$feature6.flashcardGeneration)===-1?\"âˆž\":(subscription===null||subscription===void 0?void 0:(_subscription$feature7=subscription.features)===null||_subscription$feature7===void 0?void 0:_subscription$feature7.flashcardGeneration)||3]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-2 rounded-full ${(usage.totalFlashcards||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature8=subscription.features)===null||_subscription$feature8===void 0?void 0:_subscription$feature8.flashcardGeneration)||3)>0.8?\"bg-red-500\":(usage.totalFlashcards||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature9=subscription.features)===null||_subscription$feature9===void 0?void 0:_subscription$feature9.flashcardGeneration)||3)>0.6?\"bg-yellow-500\":\"bg-green-500\"}`,style:{width:`${Math.min((usage.totalFlashcards||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature0=subscription.features)===null||_subscription$feature0===void 0?void 0:_subscription$feature0.flashcardGeneration)||3)*100,100)}%`}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Assignments\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-900\",children:[usage.totalAssignments||0,\" /\",\" \",(subscription===null||subscription===void 0?void 0:(_subscription$feature1=subscription.features)===null||_subscription$feature1===void 0?void 0:_subscription$feature1.assignmentHelp)===-1?\"âˆž\":(subscription===null||subscription===void 0?void 0:(_subscription$feature10=subscription.features)===null||_subscription$feature10===void 0?void 0:_subscription$feature10.assignmentHelp)||2]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-2 rounded-full ${(usage.totalAssignments||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature11=subscription.features)===null||_subscription$feature11===void 0?void 0:_subscription$feature11.assignmentHelp)||2)>0.8?\"bg-red-500\":(usage.totalAssignments||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature12=subscription.features)===null||_subscription$feature12===void 0?void 0:_subscription$feature12.assignmentHelp)||2)>0.6?\"bg-yellow-500\":\"bg-green-500\"}`,style:{width:`${Math.min((usage.totalAssignments||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature13=subscription.features)===null||_subscription$feature13===void 0?void 0:_subscription$feature13.assignmentHelp)||2)*100,100)}%`}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Citations\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-900\",children:[usage.totalCitations||0,\" /\",\" \",(subscription===null||subscription===void 0?void 0:(_subscription$feature14=subscription.features)===null||_subscription$feature14===void 0?void 0:_subscription$feature14.citations)===-1?\"âˆž\":(subscription===null||subscription===void 0?void 0:(_subscription$feature15=subscription.features)===null||_subscription$feature15===void 0?void 0:_subscription$feature15.citations)||10]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-2 rounded-full ${(usage.totalCitations||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature16=subscription.features)===null||_subscription$feature16===void 0?void 0:_subscription$feature16.citations)||10)>0.8?\"bg-red-500\":(usage.totalCitations||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature17=subscription.features)===null||_subscription$feature17===void 0?void 0:_subscription$feature17.citations)||10)>0.6?\"bg-yellow-500\":\"bg-green-500\"}`,style:{width:`${Math.min((usage.totalCitations||0)/((subscription===null||subscription===void 0?void 0:(_subscription$feature18=subscription.features)===null||_subscription$feature18===void 0?void 0:_subscription$feature18.citations)||10)*100,100)}%`}})})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading usage data...\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Subscription\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:subscription?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Current Plan\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 capitalize\",children:subscription.plan||\"Free\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded-full text-xs font-medium ${subscription.status===\"active\"?\"bg-green-100 text-green-800\":subscription.status===\"incomplete\"?\"bg-yellow-100 text-yellow-800\":\"bg-gray-100 text-gray-800\"}`,children:subscription.status||\"Active\"})]}),subscription.currentPeriodEnd&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Next billing\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:new Date(subscription.currentPeriodEnd).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/pricing\",className:\"btn-primary w-full text-center block\",children:subscription.plan===\"free\"?\"Upgrade Plan\":\"Manage Subscription\"})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading subscription data...\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Recent Activity\"}),/*#__PURE__*/_jsx(Link,{to:\"/notes\",className:\"text-sm text-primary-600 hover:text-primary-500\",children:\"View all\"})]}),!user?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}):notesLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}):notesError?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"w-12 h-12 mx-auto mb-3 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Unable to load recent activity\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Please try refreshing the page\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"mt-3 text-blue-600 hover:text-blue-500 text-sm\",children:\"Refresh Page\"})]}):recentNotes.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:recentNotes.map(note=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-sm transition-all duration-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"w-5 h-5 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 truncate\",children:note.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500 mt-1\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"w-4 h-4 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(note.updatedAt).toLocaleDateString()}),note.subject&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-gray-100 px-2 py-1 rounded text-xs\",children:note.subject})]})]})]})]}),/*#__PURE__*/_jsx(Link,{to:`/notes/${note._id}`,className:\"text-blue-600 hover:text-blue-500 text-sm font-medium\",children:\"View\"})]},note._id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"w-12 h-12 mx-auto mb-3 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No recent activity\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Start by creating your first note!\"}),/*#__PURE__*/_jsxs(Link,{to:\"/notes/new\",className:\"inline-flex items-center mt-3 text-blue-600 hover:text-blue-500\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"w-4 h-4 mr-1\"}),\"Create Note\"]})]})]}),(user===null||user===void 0?void 0:user.university)&&/*#__PURE__*/_jsx(\"div\",{className:\"card bg-blue-50 border-blue-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4\",children:/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"w-5 h-5 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-blue-900\",children:\"University Partnership\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-700\",children:[\"You're using Noted.AI through \",user.university.name]})]})]})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","useAuth","useSubscription","axios","DocumentTextIcon","LightBulbIcon","BookOpenIcon","AcademicCapIcon","PlusIcon","ArrowUpIcon","ArrowDownIcon","ClockIcon","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Dashboard","_user$usage","_user$usage2","_user$usage3","_user$usage4","_subscription$feature","_subscription$feature2","_subscription$feature3","_subscription$feature4","_subscription$feature5","_subscription$feature6","_subscription$feature7","_subscription$feature8","_subscription$feature9","_subscription$feature0","_subscription$feature1","_subscription$feature10","_subscription$feature11","_subscription$feature12","_subscription$feature13","_subscription$feature14","_subscription$feature15","_subscription$feature16","_subscription$feature17","_subscription$feature18","user","subscription","usage","loading","console","log","notesLoading","setNotesLoading","recentNotes","setRecentNotes","notesError","setNotesError","fetchRecentNotes","response","get","data","notes","error","stats","name","value","totalNotes","icon","color","bgColor","change","changeType","totalSummaries","totalFlashcards","totalAssignments","quickActions","description","href","className","children","firstName","map","stat","action","to","plan","features","aiSummaries","style","width","Math","min","flashcardGeneration","assignmentHelp","totalCitations","citations","status","currentPeriodEnd","Date","toLocaleDateString","onClick","window","location","reload","length","note","title","updatedAt","subject","_id","university"],"sources":["/Users/muiz/Documents/GitHub/note.ai/client/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useSubscription } from \"../contexts/SubscriptionContext\";\nimport axios from \"axios\";\nimport {\n  DocumentTextIcon,\n  LightBulbIcon,\n  BookOpenIcon,\n  AcademicCapIcon,\n  PlusIcon,\n  ArrowUpIcon,\n  ArrowDownIcon,\n  ClockIcon,\n} from \"@heroicons/react/24/outline\";\n\ninterface Note {\n  _id: string;\n  title: string;\n  content: string;\n  subject: string;\n  tags: string[];\n  isBookmarked?: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nconst Dashboard: React.FC = () => {\n  const { user } = useAuth();\n  const { subscription, usage, loading } = useSubscription();\n\n  // Debug logging\n  console.log(\"Dashboard - User:\", user);\n  console.log(\"Dashboard - Subscription:\", subscription);\n  console.log(\"Dashboard - Usage:\", usage);\n\n  const [notesLoading, setNotesLoading] = useState(true);\n  const [recentNotes, setRecentNotes] = useState<Note[]>([]);\n  const [notesError, setNotesError] = useState(false);\n\n  useEffect(() => {\n    const fetchRecentNotes = async () => {\n      try {\n        setNotesLoading(true);\n        setNotesError(false);\n        console.log(\"Fetching recent notes...\");\n        const response = await axios.get(\"/api/notes?limit=5\");\n        console.log(\"Recent notes response:\", response.data);\n        setRecentNotes(response.data.notes || []);\n      } catch (error) {\n        console.error(\"Failed to fetch recent notes:\", error);\n        setRecentNotes([]);\n        setNotesError(true);\n      } finally {\n        setNotesLoading(false);\n      }\n    };\n\n    // Only fetch notes if user is authenticated\n    if (user) {\n      fetchRecentNotes();\n    }\n  }, [user]);\n\n  const stats = [\n    {\n      name: \"Total Notes\",\n      value: usage?.totalNotes || user?.usage?.totalNotes || 0,\n      icon: DocumentTextIcon,\n      color: \"text-blue-600\",\n      bgColor: \"bg-blue-100\",\n      change: \"+12%\",\n      changeType: \"increase\",\n    },\n    {\n      name: \"AI Summaries\",\n      value: usage?.totalSummaries || user?.usage?.totalSummaries || 0,\n      icon: LightBulbIcon,\n      color: \"text-green-600\",\n      bgColor: \"bg-green-100\",\n      change: \"+8%\",\n      changeType: \"increase\",\n    },\n    {\n      name: \"Flashcards\",\n      value: usage?.totalFlashcards || user?.usage?.totalFlashcards || 0,\n      icon: BookOpenIcon,\n      color: \"text-purple-600\",\n      bgColor: \"bg-purple-100\",\n      change: \"+15%\",\n      changeType: \"increase\",\n    },\n    {\n      name: \"Assignments\",\n      value: usage?.totalAssignments || user?.usage?.totalAssignments || 0,\n      icon: AcademicCapIcon,\n      color: \"text-orange-600\",\n      bgColor: \"bg-orange-100\",\n      change: \"+5%\",\n      changeType: \"increase\",\n    },\n  ];\n\n  // Debug logging for subscription data\n  console.log(\"Dashboard - User usage:\", user?.usage);\n  console.log(\"Dashboard - Context usage:\", usage);\n  console.log(\"Dashboard - Context subscription:\", subscription);\n\n  const quickActions = [\n    {\n      name: \"Create Note\",\n      description: \"Start a new note\",\n      icon: PlusIcon,\n      href: \"/notes/new\",\n      color: \"text-blue-600\",\n      bgColor: \"bg-blue-100\",\n    },\n    {\n      name: \"AI Summary\",\n      description: \"Summarize your notes\",\n      icon: LightBulbIcon,\n      href: \"/ai-features\",\n      color: \"text-green-600\",\n      bgColor: \"bg-green-100\",\n    },\n    {\n      name: \"Study Mode\",\n      description: \"Review flashcards\",\n      icon: BookOpenIcon,\n      href: \"/flashcards\",\n      color: \"text-purple-600\",\n      bgColor: \"bg-purple-100\",\n    },\n    {\n      name: \"Citations\",\n      description: \"Generate citations\",\n      icon: AcademicCapIcon,\n      href: \"/citations\",\n      color: \"text-orange-600\",\n      bgColor: \"bg-orange-100\",\n    },\n  ];\n\n  // Show loading state if subscription data is still loading\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white\">\n          <h1 className=\"text-2xl font-bold mb-2\">\n            Welcome back, {user?.firstName}! ðŸ‘‹\n          </h1>\n          <p className=\"text-blue-100\">Loading your dashboard...</p>\n        </div>\n        <div className=\"flex items-center justify-center py-12\">\n          <div className=\"spinner\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Welcome Section */}\n      <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white\">\n        <h1 className=\"text-2xl font-bold mb-2\">\n          Welcome back, {user?.firstName}! ðŸ‘‹\n        </h1>\n        <p className=\"text-blue-100\">\n          Ready to continue your academic journey? Here's what's happening with\n          your studies.\n        </p>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {stats.map((stat) => (\n          <div key={stat.name} className=\"card\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">{stat.name}</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{stat.value}</p>\n                <div className=\"flex items-center mt-1\">\n                  {stat.changeType === \"increase\" ? (\n                    <ArrowUpIcon className=\"w-4 h-4 text-green-500\" />\n                  ) : (\n                    <ArrowDownIcon className=\"w-4 h-4 text-red-500\" />\n                  )}\n                  <span\n                    className={`text-sm ml-1 ${\n                      stat.changeType === \"increase\"\n                        ? \"text-green-600\"\n                        : \"text-red-600\"\n                    }`}\n                  >\n                    {stat.change}\n                  </span>\n                </div>\n              </div>\n              <div className={`p-3 rounded-lg ${stat.bgColor}`}>\n                <stat.icon className={`w-6 h-6 ${stat.color}`} />\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"card\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Quick Actions\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {quickActions.map((action) => (\n            <Link\n              key={action.name}\n              to={action.href}\n              className=\"p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:shadow-md transition-all duration-200\"\n            >\n              <div\n                className={`w-10 h-10 ${action.bgColor} rounded-lg flex items-center justify-center mb-3`}\n              >\n                <action.icon className={`w-5 h-5 ${action.color}`} />\n              </div>\n              <h3 className=\"font-medium text-gray-900 mb-1\">{action.name}</h3>\n              <p className=\"text-sm text-gray-600\">{action.description}</p>\n            </Link>\n          ))}\n        </div>\n      </div>\n\n      {/* Upgrade Banner for Free Users */}\n      {subscription?.plan === \"free\" && (\n        <div className=\"card bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4\">\n                <LightBulbIcon className=\"w-6 h-6 text-blue-600\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-blue-900 mb-1\">\n                  Unlock Premium Features\n                </h3>\n                <p className=\"text-sm text-blue-700\">\n                  Get unlimited AI summaries, flashcards, and more with our\n                  Student plan\n                </p>\n              </div>\n            </div>\n            <Link to=\"/pricing\" className=\"btn-primary whitespace-nowrap\">\n              Upgrade Now\n            </Link>\n          </div>\n        </div>\n      )}\n\n      {/* Usage & Subscription */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Usage Overview */}\n        <div className=\"lg:col-span-2 card\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">\n              Usage This Month\n            </h2>\n            {subscription && (\n              <Link to=\"/pricing\" className=\"btn-primary text-sm px-4 py-2\">\n                {subscription.plan === \"free\"\n                  ? \"Upgrade Plan\"\n                  : \"Manage Subscription\"}\n              </Link>\n            )}\n          </div>\n          <div className=\"space-y-4\">\n            {usage ? (\n              <>\n                {/* AI Summaries */}\n                <div>\n                  <div className=\"flex justify-between text-sm mb-1\">\n                    <span className=\"text-gray-600\">AI Summaries</span>\n                    <span className=\"text-gray-900\">\n                      {usage.totalSummaries || 0} /{\" \"}\n                      {subscription?.features?.aiSummaries === -1\n                        ? \"âˆž\"\n                        : subscription?.features?.aiSummaries || 5}\n                    </span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div\n                      className={`h-2 rounded-full ${\n                        (usage.totalSummaries || 0) /\n                          (subscription?.features?.aiSummaries || 5) >\n                        0.8\n                          ? \"bg-red-500\"\n                          : (usage.totalSummaries || 0) /\n                              (subscription?.features?.aiSummaries || 5) >\n                            0.6\n                          ? \"bg-yellow-500\"\n                          : \"bg-green-500\"\n                      }`}\n                      style={{\n                        width: `${Math.min(\n                          ((usage.totalSummaries || 0) /\n                            (subscription?.features?.aiSummaries || 5)) *\n                            100,\n                          100\n                        )}%`,\n                      }}\n                    ></div>\n                  </div>\n                </div>\n\n                {/* Flashcards */}\n                <div>\n                  <div className=\"flex justify-between text-sm mb-1\">\n                    <span className=\"text-gray-600\">Flashcards</span>\n                    <span className=\"text-gray-900\">\n                      {usage.totalFlashcards || 0} /{\" \"}\n                      {subscription?.features?.flashcardGeneration === -1\n                        ? \"âˆž\"\n                        : subscription?.features?.flashcardGeneration || 3}\n                    </span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div\n                      className={`h-2 rounded-full ${\n                        (usage.totalFlashcards || 0) /\n                          (subscription?.features?.flashcardGeneration || 3) >\n                        0.8\n                          ? \"bg-red-500\"\n                          : (usage.totalFlashcards || 0) /\n                              (subscription?.features?.flashcardGeneration ||\n                                3) >\n                            0.6\n                          ? \"bg-yellow-500\"\n                          : \"bg-green-500\"\n                      }`}\n                      style={{\n                        width: `${Math.min(\n                          ((usage.totalFlashcards || 0) /\n                            (subscription?.features?.flashcardGeneration ||\n                              3)) *\n                            100,\n                          100\n                        )}%`,\n                      }}\n                    ></div>\n                  </div>\n                </div>\n\n                {/* Assignments */}\n                <div>\n                  <div className=\"flex justify-between text-sm mb-1\">\n                    <span className=\"text-gray-600\">Assignments</span>\n                    <span className=\"text-gray-900\">\n                      {usage.totalAssignments || 0} /{\" \"}\n                      {subscription?.features?.assignmentHelp === -1\n                        ? \"âˆž\"\n                        : subscription?.features?.assignmentHelp || 2}\n                    </span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div\n                      className={`h-2 rounded-full ${\n                        (usage.totalAssignments || 0) /\n                          (subscription?.features?.assignmentHelp || 2) >\n                        0.8\n                          ? \"bg-red-500\"\n                          : (usage.totalAssignments || 0) /\n                              (subscription?.features?.assignmentHelp || 2) >\n                            0.6\n                          ? \"bg-yellow-500\"\n                          : \"bg-green-500\"\n                      }`}\n                      style={{\n                        width: `${Math.min(\n                          ((usage.totalAssignments || 0) /\n                            (subscription?.features?.assignmentHelp || 2)) *\n                            100,\n                          100\n                        )}%`,\n                      }}\n                    ></div>\n                  </div>\n                </div>\n\n                {/* Citations */}\n                <div>\n                  <div className=\"flex justify-between text-sm mb-1\">\n                    <span className=\"text-gray-600\">Citations</span>\n                    <span className=\"text-gray-900\">\n                      {usage.totalCitations || 0} /{\" \"}\n                      {subscription?.features?.citations === -1\n                        ? \"âˆž\"\n                        : subscription?.features?.citations || 10}\n                    </span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div\n                      className={`h-2 rounded-full ${\n                        (usage.totalCitations || 0) /\n                          (subscription?.features?.citations || 10) >\n                        0.8\n                          ? \"bg-red-500\"\n                          : (usage.totalCitations || 0) /\n                              (subscription?.features?.citations || 10) >\n                            0.6\n                          ? \"bg-yellow-500\"\n                          : \"bg-green-500\"\n                      }`}\n                      style={{\n                        width: `${Math.min(\n                          ((usage.totalCitations || 0) /\n                            (subscription?.features?.citations || 10)) *\n                            100,\n                          100\n                        )}%`,\n                      }}\n                    ></div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"text-center py-4 text-gray-500\">\n                <p>Loading usage data...</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Subscription Status */}\n        <div className=\"card\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\n            Subscription\n          </h2>\n          <div className=\"space-y-4\">\n            {subscription ? (\n              <>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-gray-600\">Current Plan</span>\n                  <span className=\"font-medium text-gray-900 capitalize\">\n                    {subscription.plan || \"Free\"}\n                  </span>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-gray-600\">Status</span>\n                  <span\n                    className={`px-2 py-1 rounded-full text-xs font-medium ${\n                      subscription.status === \"active\"\n                        ? \"bg-green-100 text-green-800\"\n                        : subscription.status === \"incomplete\"\n                        ? \"bg-yellow-100 text-yellow-800\"\n                        : \"bg-gray-100 text-gray-800\"\n                    }`}\n                  >\n                    {subscription.status || \"Active\"}\n                  </span>\n                </div>\n                {subscription.currentPeriodEnd && (\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-gray-600\">Next billing</span>\n                    <span className=\"text-gray-900\">\n                      {new Date(\n                        subscription.currentPeriodEnd\n                      ).toLocaleDateString()}\n                    </span>\n                  </div>\n                )}\n                <div className=\"pt-2\">\n                  <Link\n                    to=\"/pricing\"\n                    className=\"btn-primary w-full text-center block\"\n                  >\n                    {subscription.plan === \"free\"\n                      ? \"Upgrade Plan\"\n                      : \"Manage Subscription\"}\n                  </Link>\n                </div>\n              </>\n            ) : (\n              <div className=\"text-center py-4 text-gray-500\">\n                <p>Loading subscription data...</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Recent Activity */}\n      <div className=\"card\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            Recent Activity\n          </h2>\n          <Link\n            to=\"/notes\"\n            className=\"text-sm text-primary-600 hover:text-primary-500\"\n          >\n            View all\n          </Link>\n        </div>\n\n        {!user ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"spinner\"></div>\n          </div>\n        ) : notesLoading ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"spinner\"></div>\n          </div>\n        ) : notesError ? (\n          <div className=\"text-center py-8 text-gray-500\">\n            <DocumentTextIcon className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\n            <p>Unable to load recent activity</p>\n            <p className=\"text-sm\">Please try refreshing the page</p>\n            <button\n              onClick={() => window.location.reload()}\n              className=\"mt-3 text-blue-600 hover:text-blue-500 text-sm\"\n            >\n              Refresh Page\n            </button>\n          </div>\n        ) : recentNotes.length > 0 ? (\n          <div className=\"space-y-4\">\n            {recentNotes.map((note) => (\n              <div\n                key={note._id}\n                className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-sm transition-all duration-200\"\n              >\n                <div className=\"flex items-center flex-1\">\n                  <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3\">\n                    <DocumentTextIcon className=\"w-5 h-5 text-blue-600\" />\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"font-medium text-gray-900 truncate\">\n                      {note.title}\n                    </h3>\n                    <div className=\"flex items-center text-sm text-gray-500 mt-1\">\n                      <ClockIcon className=\"w-4 h-4 mr-1\" />\n                      <span>\n                        {new Date(note.updatedAt).toLocaleDateString()}\n                      </span>\n                      {note.subject && (\n                        <>\n                          <span className=\"mx-2\">â€¢</span>\n                          <span className=\"bg-gray-100 px-2 py-1 rounded text-xs\">\n                            {note.subject}\n                          </span>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                </div>\n                <Link\n                  to={`/notes/${note._id}`}\n                  className=\"text-blue-600 hover:text-blue-500 text-sm font-medium\"\n                >\n                  View\n                </Link>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-8 text-gray-500\">\n            <DocumentTextIcon className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\n            <p>No recent activity</p>\n            <p className=\"text-sm\">Start by creating your first note!</p>\n            <Link\n              to=\"/notes/new\"\n              className=\"inline-flex items-center mt-3 text-blue-600 hover:text-blue-500\"\n            >\n              <PlusIcon className=\"w-4 h-4 mr-1\" />\n              Create Note\n            </Link>\n          </div>\n        )}\n      </div>\n\n      {/* University Info */}\n      {user?.university && (\n        <div className=\"card bg-blue-50 border-blue-200\">\n          <div className=\"flex items-center\">\n            <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4\">\n              <AcademicCapIcon className=\"w-5 h-5 text-blue-600\" />\n            </div>\n            <div>\n              <h3 className=\"font-medium text-blue-900\">\n                University Partnership\n              </h3>\n              <p className=\"text-sm text-blue-700\">\n                You're using Noted.AI through {user.university.name}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}